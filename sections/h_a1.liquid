{{ 'h-section-a1.css' | asset_url | stylesheet_tag }}

<div class="a1-section fp-bg isolate{% unless section.settings.full_width %} page-width{% endunless %} color-{{ section.settings.color_scheme }} gradient section-{{ section.id }}">

  <div class="a1-bg" style="background-image: url({{ section.settings.bg_image | img_url: 'master' }});">
    <img srcset= "{{ section.settings.bg_image | img_url: 'master' }}" src="{{ section.settings.bg_image | img_url: 'master' }}" alt="{{ section.settings.bg_image.alt | escape }}" loading="lazy" width="{{ section.settings.bg_image.width }}" height="{{ section.settings.bg_image.height }}" />
  </div>

  <div class="a1-content page-width">
    <div class="a1-gif">
      <img srcset= "{{ section.settings.gif | img_url: 'master' }}" src="{{ section.settings.gif | img_url: 'master' }}" alt="{{ section.settings.gif.alt | escape }}" loading="lazy" width="{{ section.settings.gif.width }}" height="{{ section.settings.gif.height }}" />
    </div>

    <div class="a1-des">
      <div class="a1-timing-wrap">
        <h3 class="a1-timing-title">About to land</h3>
        <div class="a1-timing">
          in <span id="timing" data-end="{{ section.settings.time | escape }}"><span class="day" style="color: {{ section.settings.hl_color }}"></span><span>D</span><span class="hour" style="color: {{ section.settings.hl_color }}"></span><span>H</span><span class="minute" style="color: {{ section.settings.hl_color }}"></span><span>M</span><span class="second" style="color: {{ section.settings.hl_color }}"></span><span>S</span></span></div>
      </div>

      {%- if section.settings.newsletter_enable -%}
      <div class="a1-newsletter">
        {%- if section.settings.newsletter_heading != blank -%}
          <h2 class="newsletter-heading">{{ section.settings.newsletter_heading | escape }}</h2>
        {%- endif -%}
        {%- if section.settings.newsletter_sub_heading != blank -%}
          <p class="newsletter-sub-heading show m_hide">{{ section.settings.newsletter_sub_heading }}</p>
        {%- endif -%}
        {%- form 'customer', id: 'ContactFooter', class: 'footer__newsletter newsletter-form' -%}
          <input type="hidden" name="contact[tags]" value="newsletter">
          <div class="newsletter-form__field-wrapper">
            <div class="field">
              <input
                id="NewsletterForm--{{ section.id }}"
                type="email"
                name="contact[email]"
                class="field__input"
                value="{{ form.email }}"
                aria-required="true"
                autocorrect="off"
                autocapitalize="off"
                autocomplete="email"
                {% if form.errors %}
                  autofocus
                  aria-invalid="true"
                  aria-describedby="ContactFooter-error"
                {% elsif form.posted_successfully? %}
                  aria-describedby="ContactFooter-success"
                {% endif %}
                placeholder="{{ 'newsletter.label' | t }}"
                required
              >
              <button type="submit" class="newsletter-form__button field__button" name="commit" id="Subscribe" aria-label="{{ 'newsletter.button_label' | t }}">
                {%- comment -%} {% render 'icon-arrow' %} {%- endcomment -%}
                <svg t="1670290691282" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7448" width="64" height="64"><path d="M514 114.3c-219.9 0-398.8 178.9-398.8 398.8 0 220 178.9 398.9 398.8 398.9s398.8-178.9 398.8-398.9c0-219.8-178.9-398.8-398.8-398.8z m232.1 440.4L582 718.8c-22.9 22.9-60.2 22.9-83.1 0-11.5-11.5-17.2-26.5-17.2-41.5s5.7-30.1 17.2-41.5l63.8-63.8H334c-32.5 0-58.8-26.3-58.8-58.8s26.3-58.8 58.8-58.8h228.7l-63.8-63.8c-22.9-22.9-22.9-60.2 0-83.1 22.9-22.9 60.2-22.9 83.1 0l164.1 164.1c22.9 23 22.9 60.2 0 83.1z" p-id="7449" fill="#ff4f00"></path></svg>
              </button>
            </div>
            {%- if form.errors -%}
              <small class="newsletter-form__message form__message" id="ContactFooter-error">{% render 'icon-error' %}{{ form.errors.translated_fields['email'] | capitalize }} {{ form.errors.messages['email'] }}</small>
            {%- endif -%}
          </div>
          {%- if form.posted_successfully? -%}
            <h3 class="newsletter-form__message newsletter-form__message--success form__message" id="ContactFooter-success" tabindex="-1" autofocus>{% render 'icon-success' %}{{ 'newsletter.success' | t }}</h3>
          {%- endif -%}
        {%- endform -%}
        {%- if section.settings.newsletter_sub_heading != blank -%}
          <p class="newsletter-sub-heading hide m_show">{{ section.settings.newsletter_sub_heading }}</p>
        {%- endif -%}
      </div>
      {%- endif -%}
    </div>
  </div>

  {%- if section.blocks.size > 0 -%}
    <div class="a1-swiper swiper">
      <div class="swiper-wrapper">
        {%- for block in section.blocks -%}
          <div class="swiper-slide">
            {%- if block.settings.swiper_image != blank -%}
              <img
                srcset= "{{ block.settings.swiper_image | img_url: 'master' }}"
                src="{{ block.settings.swiper_image | img_url: 'master' }}"
                alt="{{ block.settings.swiper_image.alt | escape }}"
                loading="lazy"
                width="{{ block.settings.swiper_image.width }}"
                height="{{ block.settings.swiper_image.height }}" />
            {%- else -%}
            <img 
              src="http://dummyimage.com/1000x475"
              alt=""
              loading="lazy"
              width=""
              height="" />
            {%- endif -%}
          </div>
        {%- endfor -%}
      </div>

      <div class="swiper-button-wrap">
        <div class="swiper-button-prev">
          <img srcset="https://cdn.shopify.com/s/files/1/0618/3256/0794/files/ICON_LEFT_ARROW.png" src="https://cdn.shopify.com/s/files/1/0618/3256/0794/files/ICON_LEFT_ARROW.png" alt="" loading="lazy" width="" height="" />
        </div>
        <div class="swiper-button-next">
          <img srcset="https://cdn.shopify.com/s/files/1/0618/3256/0794/files/ICON_RIGHT_ARROW.png" src="https://cdn.shopify.com/s/files/1/0618/3256/0794/files/ICON_RIGHT_ARROW.png" alt="" loading="lazy" width="" height="" />
        </div>
      </div>
    </div>
  {%- endif -%}
</div>

<script>
  var a1Swiper = new Swiper('.a1-swiper',{
    slidesPerView: 'auto',
    centeredSlides: true,
    loop: true,
    autoplay: {
      delay: 5000,
      disableOnInteraction: false,
    },
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
    observer: true,
    observeParents: true
  });
</script>

{% schema %}
{
  "name": "A1",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "== COLOR"
    },
    {
      "type": "color",
      "id": "txt_color",
      "label": "文字颜色",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "hl_color",
      "label": "高亮颜色",
      "default": "#FF4F00"
    },
    {
      "type": "header",
      "content": "== IMAGE"
    },
    {
      "type": "image_picker",
      "id": "bg_image",
      "label": "Background image"
    },
    {
      "type": "image_picker",
      "id": "gif",
      "label": "GIF 图片"
    },
    {
      "type": "header",
      "content": "== Text"
    },
    {
      "type": "text",
      "id": "time",
      "label": "倒计时终止时间",
      "default": "162053",
      "info": "格式： yy-mm-dd hh:mm:ss"
    },
    {
      "type": "checkbox",
      "id": "newsletter_enable",
      "default": true,
      "label": "是否展示邮件注册"
    },
    {
      "type": "text",
      "id": "newsletter_heading",
      "default": "STAY UPDATED",
      "label": "邮件标题"
    },
    {
      "type": "textarea",
      "id": "newsletter_sub_heading",
      "label": "邮件副标题",
      "default": "Sign up for newsletter to get updates straight to your inbox"
    },
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "t:sections.video.settings.full_width.label",
      "default": true
    },
    {
      "type": "select",
      "id": "color_scheme",
      "options": [
        {
          "value": "accent-1",
          "label": "t:sections.all.colors.accent_1.label"
        },
        {
          "value": "accent-2",
          "label": "t:sections.all.colors.accent_2.label"
        },
        {
          "value": "background-1",
          "label": "t:sections.all.colors.background_1.label"
        },
        {
          "value": "background-2",
          "label": "t:sections.all.colors.background_2.label"
        },
        {
          "value": "inverse",
          "label": "t:sections.all.colors.inverse.label"
        }
      ],
      "default": "accent-1",
      "label": "t:sections.all.colors.label"
    }
  ],
  "blocks": [
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "swiper_image",
          "label": "Swiper image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "A1"
    }
  ]
}
{% endschema %}
